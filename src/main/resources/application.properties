# Application Name
spring.application.name=CommercePlatformFull

# Server Configuration
server.port=8080
server.servlet.context-path=/

server.servlet.session.timeout=30m

# SQL Server Database Configuration
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=ECommercePlatform;encrypt=false;trustServerCertificate=true
spring.datasource.username=sa
spring.datasource.password=123456
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=100MB
file.upload-dir=uploads

# Thymeleaf Configuration
spring.thymeleaf.cache=false
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8

# Logging Configuration - Enhanced for email debugging
logging.level.com.mypkga.commerceplatformfull=DEBUG
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.level.org.springframework.web=INFO
logging.level.org.springframework.mail=DEBUG
logging.level.jakarta.mail=DEBUG

# Security Logging
logging.level.com.mypkga.commerceplatformfull.security=INFO
logging.level.com.mypkga.commerceplatformfull.monitoring=INFO

# Log file configuration
logging.file.name=logs/commerce-platform.log

logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# VNPay Configuration (Sandbox/Test Mode)
vnpay.tmn-code=QYQ3HPWW
vnpay.hash-secret=ZIQU8IKE4YBRYZFX8QTLXPWVNK1S56VW
vnpay.api-url=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
vnpay.return-url=http://localhost:8080/payment/vnpay/callback

# OpenAI API Configuration (for AI features)
openai.api-key=colamthimoicoan
openai.model=gpt-3.5-turbo
openai.api-url=https://api.openai.com/v1/chat/completions
# Security Configuration

# Session Security
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=lax
server.servlet.session.tracking-modes=cookie

# Performance Configuration
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000

# Cache Configuration
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=1000,expireAfterAccess=30m

# Image & Video Upload Configuration
app.image.upload-dir=uploads/images
app.image.max-size=5MB
app.image.allowed-types=image/jpeg,image/png,image/gif

# Video Upload Configuration
app.video.upload-dir=uploads/videos
app.video.max-size=50MB
app.video.allowed-types=video/mp4,video/avi,video/mov,video/wmv,video/webm

# Rate Limiting Configuration
app.rate-limit.requests-per-minute=60
app.rate-limit.login-attempts-per-minute=5

# Monitoring Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.metrics.export.simple.enabled=true
# SMS Configuration - Disabled
app.sms.enabled=false

# OTP Configuration
app.otp.expiry-minutes=1
app.otp.max-attempts=5
app.otp.rate-limit-minutes=1
app.otp.max-requests-per-period=1
app.otp.block-duration-minutes=5
# Email Configuration - Real email sending
app.email.enabled=true
app.email.mock-mode=false
app.email.from=ytruongtieuhoc@gmail.com
app.email.from-name=E-Commerce Platform

# Spring Mail Configuration (when using real email) - Optimized for speed
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=ytruongtieuhoc@gmail.com
spring.mail.password=giru awvr xkyg gydq
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# Email Performance Optimization
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000
spring.mail.properties.mail.smtp.ssl.checkserveridentity=false
spring.mail.properties.mail.smtp.ssl.enable=false
spring.mail.properties.mail.debug=false

# Password Reset Configuration
app.password-reset.expiry-minutes=30